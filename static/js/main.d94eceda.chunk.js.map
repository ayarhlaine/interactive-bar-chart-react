{"version":3,"sources":["BarChart/BarChart.jsx","data/data.js","App.js","serviceWorker.js","index.js"],"names":["BarChart","width","height","data","yAxisTitle","ref","useRef","margin","innerWidth","innerHeight","useEffect","d3","current","attr","append","draw","xScale","domain","map","d","year","range","yScale","value","colorScale","chart","select","selectAll","join","enter","classed","style","i","bandwidth","transition","duration","delay","text","xAxis","scale","call","yAxis","ticks","USData","JapanData","App","useState","selected","setSelected","handleChange","e","target","className","Radio","checked","onChange","name","inputProps","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.d94eceda.chunk.js","sourcesContent":["import React, { useRef, useEffect } from 'react'\nimport * as d3 from \"d3\";\nfunction BarChart({width, height, data, yAxisTitle}) {\n    const ref = useRef();\n    const margin = {top: 20, right: 20, bottom: 70, left: 40};\n    const innerWidth = width - margin.left - margin.right;\n    const innerHeight = height - margin.top - margin.bottom;\n    const duration = 500;\n    useEffect(() => {\n        d3.select(ref.current)\n          .attr(\"width\", width)\n          .attr(\"height\", height)\n          .append(\"g\")\n          .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n      }, []); // eslint-disable-line react-hooks/exhaustive-deps\n    useEffect(() => {\n        draw();\n    },[data]) // eslint-disable-line react-hooks/exhaustive-deps\n    const draw = () => {\n        const xScale = d3\n        .scaleBand()\n        .domain(data.map((d) => d.year))\n        .range([0, innerWidth]);\n\n        const yScale = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, (d) => d.value)])\n        .range([innerHeight, 0]);\n\n        const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n\n        const svg = d3.select(ref.current);\n        const chart = svg.select(\"g\");\n        chart\n      .selectAll(\".bar\")\n      .data(data)\n      .join((enter) =>\n        enter\n          .append(\"rect\")\n          .classed(\"bar\", true)\n          .attr(\"y\", (d) => yScale(0))\n          .attr(\"height\", 0)\n      )\n      .attr(\"x\", (d) => xScale(d.year))\n      .style(\"fill\", (d, i) => colorScale(i))\n      .attr(\"width\", (d) => xScale.bandwidth())\n      .transition()\n      .duration(duration)\n      .delay((d, i) => (i * duration) / 10)\n      .attr(\"height\", (d) => innerHeight - yScale(d.value))\n      .attr(\"y\", (d) => yScale(d.value));\n\n    chart\n      .selectAll(\".bar-label\")\n      .data(data)\n      .join((enter) =>\n        enter\n          .append(\"text\")\n          .classed(\"bar-label\", true)\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"dx\", 0)\n          .attr(\"y\", yScale(0))\n          .attr(\"dy\", -6)\n          .attr(\"opacity\", 0)\n      )\n      .attr(\"x\", (d) => xScale(d.year) + xScale.bandwidth() / 2)\n      .text((d) => d.value)\n      .transition()\n      .duration(duration)\n      .delay((d, i) => (i * duration) / 10)\n      .attr(\"opacity\", 1)\n      .attr(\"y\", (d) => yScale(d.value));\n\n    const xAxis = d3.axisBottom().scale(xScale);\n\n    chart\n      .selectAll(\".x.axis\")\n      .data([null])\n      .join(\"g\")\n      .classed(\"x axis\", true)\n      .attr(\"transform\", `translate(0,${innerHeight})`)\n      .transition()\n      .duration(duration)\n      .call(xAxis);\n\n    const yAxis = d3.axisLeft().ticks(5).scale(yScale);\n\n    chart\n      .selectAll(\".y.axis\")\n      .data([null])\n      .join(\"g\")\n      .classed(\"y axis\", true)\n      .attr(\"transform\", \"translate(0,0)\")\n      .transition()\n      .duration(duration)\n      .call(yAxis);\n\n    chart\n      .selectAll(\".x-axis-title\")\n      .data([\"Year\"])\n      .join(\"text\")\n      .classed(\"x-axis-title\", true)\n      .attr(\"x\", innerWidth / 2)\n      .attr(\"y\", innerHeight + 60)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text((d) => d);\n\n    chart\n      .selectAll(\".y-axis-title\")\n      .data([yAxisTitle])\n      .join(\"text\")\n      .classed(\"y-axis-title\", true)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"transform\", `translate(-50, ${innerHeight / 2}) rotate(-90)`)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text((d) => d);\n    }\n    return (\n        <div>\n            <svg ref={ref}></svg>\n        </div>\n    )\n}\n\nexport default BarChart\n","const usData = [\n    {\n      year: 2010,\n      value: 2.56,\n    },\n    {\n      year: 2011,\n      value: 1.55,\n    },\n    {\n      year: 2012,\n      value: 2.25,\n    },\n    {\n      year: 2013,\n      value: 1.84,\n    },\n    {\n      year: 2014,\n      value: 2.45,\n    },\n    {\n      year: 2015,\n      value: 2.88,\n    },\n    {\n      year: 2016,\n      value: 1.57,\n    },\n    {\n      year: 2017,\n      value: 2.22,\n    },\n    {\n      year: 2018,\n      value: 3.18,\n    },\n    {\n      year: 2019,\n      value: 2.33,\n    },\n  ];\n  \n  const japanData = [\n    {\n      year: 2010,\n      value: 4.19,\n    },\n    {\n      year: 2011,\n      value: 0.12,\n    },\n    {\n      year: 2012,\n      value: 1.5,\n    },\n    {\n      year: 2013,\n      value: 2.0,\n    },\n    {\n      year: 2014,\n      value: 0.37,\n    },\n    {\n      year: 2015,\n      value: 1.22,\n    },\n    {\n      year: 2016,\n      value: 0.52,\n    },\n    {\n      year: 2017,\n      value: 2.17,\n    },\n    {\n      year: 2018,\n      value: 0.32,\n    },\n    {\n      year: 2019,\n      value: 0.65,\n    },\n  ];\n  \n  const data = {\n    USData: usData,\n    JapanData: japanData,\n  };\n  \n  export default data;","import React, { useState } from 'react';\nimport Radio from \"@material-ui/core/Radio\";\nimport './App.css';\nimport BarChart from './BarChart/BarChart';\nimport data from './data/data';\n\nfunction App() {\n  const [selected, setSelected] = useState('US');\n  const handleChange = (e) => {\n    setSelected(e.target.value);\n  }\n  return (\n    <div className=\"App\">\n      <h1>Interactive Bar Chart</h1>\n      <BarChart\n          width={800}\n          height={450}\n          data={\n            selected === \"US\" ? data.USData : data.JapanData\n          }\n          yAxisTitle={`${selected} GDP growth`}\n        />\n      <div className=\"App__selector\">\n      <Radio\n            checked={selected === \"US\"}\n            onChange={handleChange}\n            value=\"US\"\n            name=\"radio-button-demo\"\n            inputProps={{ \"aria-label\": \"US\" }}\n          />\n          US\n          <Radio\n            checked={selected === \"Japan\"}\n            onChange={handleChange}\n            value=\"Japan\"\n            name=\"radio-button-demo\"\n            inputProps={{ \"aria-label\": \"Japan\" }}\n          />\n          Japan\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}